{% extends "base.html" %}

{% block content %}
<main>
    <div class="container">
        <div class="card">
            <h2>¡Tu opinión es importante! </h2>
            <p>Introduce tus credenciales para acceder al sistema</p>

            {% if form.errors %}
            <div id="error-toast" class="toast">
                <span>⚠️ Error: Usuario o contraseña incorrectos.</span>
            </div>
            {% endif %}

            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="{{ form.username.id_for_label }}">Usuario:</label>
                    {{ form.username }}
                </div>
                <div class="form-group">
                    <label for="{{ form.password.id_for_label }}">Contraseña:</label>
                    {{ form.password }}
                </div>
                <div class="button-container">
                <button type="submit" class="btn btn-primary">Ingresar</button>
                <a href="{% url 'home' %}" class="btn btn-secondary">Volver</a>
                </div>
            </form>
        </div>
    </div>
</main>

<script>
    window.onload = function() {
        let toast = document.getElementById("error-toast");
        if (toast) {
            toast.style.display = "block";
            setTimeout(() => { toast.style.display = "none"; }, 3000);
        }
    };
</script>

{% endblock %}
